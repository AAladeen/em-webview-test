<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />

<!-- IMPORTANT for mobile WebView -->
<meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover" />

<title>ServiceNow Engagement Messenger â€“ WebView Test - Mobile</title>

<style>
body {
margin: 0;
padding: 16px;
font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
background: #f7f7f7;
}

h1 {
font-size: 18px;
margin-bottom: 8px;
}

p {
font-size: 14px;
color: #555;
}
</style>
</head>

<body>
<h1>Engagement Messenger Test 24</h1>

<div style="display: flex; flex-direction: column; gap: 20px; max-width: 300px;">
  <button onclick="Contact()" style="padding: 12px 24px; font-size: 16px; cursor: pointer; border-radius: 6px; border: 1px solid #ccc; background-color: #007bff; color: white; transition: background-color 0.3s;">
    Contact Us with Defined Player ID
  </button>
  
  <button onclick="Contact2()" style="padding: 12px 24px; font-size: 16px; cursor: pointer; border-radius: 6px; border: 1px solid #ccc; background-color: #6c757d; color: white; transition: background-color 0.3s;">
    Contact Us as Guest
  </button>
</div>
<!-- ServiceNow Engagement Messenger -->
<script src="https://conwaresolutionssrosvsdemo9.service-now.com/scripts/sn_csm_ec.js?v=5.6"></script>
<script>

var ID;
	
//	ID = "8798798797444123";

	var emContext = {
  site: window.location.hostname,
  page: window.location.pathname,
  referrer: document.referrer,
  userAgent: navigator.userAgent,
  timezone: Intl.DateTimeFormat().resolvedOptions().timeZone,
  source: "gaming_web"
};

/*	
SN_CSM_EC.init({
moduleID: "https://conwaresolutionssrosvsdemo9.service-now.com/#91dfd2e4936df2501001be9887373cd6",
//	loadFeature: SN_CSM_EC.loadEMFeature()

loadFeature: StartEM(ID)
});
*/


function Contact() {
console.log("Simulating Contact");
SN_CSM_EC.init({
moduleID: "https://conwaresolutionssrosvsdemo9.service-now.com/#91dfd2e4936df2501001be9887373cd6",
//	loadFeature: SN_CSM_EC.loadEMFeature()

loadFeature: StartEM(ID)
});
}

	
function Contact2() {
console.log("Simulating Contact");
SN_CSM_EC.init({
moduleID: "https://conwaresolutionssrosvsdemo9.service-now.com/#91dfd2e4936df2501001be9887373cd6",
//	loadFeature: SN_CSM_EC.loadEMFeature()

loadFeature: StartEMempty(ID)
});
}

function StartEM(userID){ 

if(userID){
	return SN_CSM_EC.loadEMFeature();
}

return { 
		feature: "CHAT",
		openOnLoad: true,
		params: { 
			"topic_id": "d5f3d71f833dba10b177a070ceaad3bc", 
			"sysparm_queue":emContext, //pass the value to context vairable to route the chat request.
			"sysparm_delasport_branch":"wl-222", //pass the value to context vairable to route the chat request.
"sysparm_delasport_player_id":"01234567890" //pass the value to context vairable to route the chat request.

			
			} 
	  } 
}

	
function StartEMempty(userID){ 

if(userID){
	return SN_CSM_EC.loadEMFeature();
}

return { 
		feature: "CHAT",
		openOnLoad: true,
		params: { 
			"topic_id": "aa0e685053130010cf8cddeeff7b127d", 
			"sysparm_queue":emContext, //pass the value to context vairable to route the chat request.
			"sysparm_delasport_branch":"", //pass the value to context vairable to route the chat request.
"sysparm_delasport_player_id":"" //pass the value to context vairable to route the chat request.

			} 
	  } 
}

</script>
</body>
</html>

</body>
</html>
